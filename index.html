<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wedding Invitation</title>

<link rel="stylesheet" href="style.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500&family=Playfair+Display:wght@500&display=swap" rel="stylesheet">
</head>

<body>

<div class="app" id="app">

<!-- ================= COVER ================= -->
<section id="coverStage" class="stage">
  <img src="cover.png" class="frame-img">
  <div id="seal" class="seal-click"></div>
  <div id="sealGlow" class="seal-glow"></div>
  <div class="instruction-hint">âœ¨ Klik cop untuk buka jemputan âœ¨</div>
</section>


<!-- ================= OPEN ENVELOPE ================= -->
<section id="openStage" class="stage hidden">
  <div class="envelope-frame">
    <img src="card1.png" id="envelopeOpen" class="frame-img fold-start">
    <img src="card2.png" id="slideLetter" class="letter">
  </div>
</section>


<!-- ================= CONTENT ================= -->
<section id="contentStage" class="scrollable-content hidden">

  <img src="card3.png" class="card">
  <img src="card4.png" class="card">
  <img src="card5.png" class="card">

  <!-- COUNTDOWN -->
  <div class="countdown">
    <div class="event-card">
      <div class="event-title">Majlis Bermula Dalam</div>
      <div id="timer" class="timer"></div>

      <div class="event-text">
        <strong>Glo Damansara Shopping Mall</strong><br>
        Petaling Jaya<br><br>
        ğŸ“… Sabtu â€¢ 2 Mei 2026<br>
        â° 11:00 pagi
      </div>

      <a class="map-btn"
         href="https://maps.app.goo.gl/E8qS2P7xVHtyL8967"
         target="_blank">
         ğŸ“ Buka Google Map
      </a>
    </div>
  </div>


  <!-- ===== SWIPE GALLERY ===== -->
  <div class="gallery">
    <div class="gallery-slider" id="gallerySlider">

      <div class="slide"><img src="gallery1.jpg"></div>
      <div class="slide"><img src="gallery2.jpg"></div>
      <div class="slide"><img src="gallery3.jpg"></div>
      <div class="slide"><img src="gallery4.jpg"></div>

    </div>
  </div>


  <!-- ===== FINAL RSVP ===== -->
  <div class="final-rsvp">
    <a class="rsvp-btn"
       href="https://forms.gle/KYxswksdS9Qqm9YC8"
       target="_blank">
       ğŸ“ RSVP Sekarang
    </a>
  </div>

</section>

</div>


<!-- EFFECT LAYERS -->
<div class="sparkle-layer" id="dust"></div>
<div class="vignette"></div>

<!-- MUSIC -->
<audio id="bgm" loop preload="auto">
  <source src="music.mp3" type="audio/mpeg">
</audio>

<button id="musicToggle" class="music-toggle hidden">ğŸ”Š</button>


<script>

/* ================= DOM ================= */

const seal = document.getElementById("seal");
const glow = document.getElementById("sealGlow");
const cover = document.getElementById("coverStage");
const openStage = document.getElementById("openStage");
const envelope = document.getElementById("envelopeOpen");
const letter = document.getElementById("slideLetter");
const content = document.getElementById("contentStage");
const app = document.getElementById("app");
const bgm = document.getElementById("bgm");
const musicBtn = document.getElementById("musicToggle");


/* ================= OPEN FLOW ================= */

seal.onclick = () => {

  glow.classList.add("glow-on");
  spawnDust(40);
  startMusic();

  cover.classList.add("fade");

  setTimeout(()=>{
    cover.classList.add("hidden");
    openStage.classList.remove("hidden");
    envelope.classList.add("fold-open");
  },600);

  setTimeout(()=>{
    letter.classList.add("letter-slide");
  },1100);

  setTimeout(()=>{
    content.classList.remove("hidden");
    app.classList.add("scroll");
    musicBtn.classList.remove("hidden");
  },2200);
};


/* ================= MUSIC ================= */

function startMusic(){
  bgm.volume = 0;
  bgm.play().catch(()=>{});
  let v=0;
  const f=setInterval(()=>{
    v+=0.05;
    if(v>=0.6){v=0.6;clearInterval(f);}
    bgm.volume=v;
  },120);
}

musicBtn.onclick = () => {
  if (bgm.paused) {
    bgm.play();
    musicBtn.innerHTML="ğŸ”Š";
  } else {
    bgm.pause();
    musicBtn.innerHTML="ğŸ”ˆ";
  }
};


/* ================= COUNTDOWN ================= */

const target = new Date('May 2, 2026 11:00:00 GMT+0800').getTime();

function updateTimer(){
  const diff = target - Date.now();
  if(diff<=0){timer.innerHTML="ğŸ‰ Majlis Bermula!";return;}
  const d=Math.floor(diff/86400000);
  const h=Math.floor(diff%86400000/3600000);
  const m=Math.floor(diff%3600000/60000);
  const s=Math.floor(diff%60000/1000);
  timer.innerHTML=`${d} hari ${h} jam ${m} minit ${s} saat`;
}
setInterval(updateTimer,1000);
updateTimer();


/* ================= SPARKLES ================= */

function spawnDust(n){
  const layer=document.getElementById("dust");
  for(let i=0;i<n;i++){
    const d=document.createElement("div");
    d.className="dust";
    d.style.left=Math.random()*100+"%";
    d.style.animationDuration=(10+Math.random()*15)+"s";
    layer.appendChild(d);
    setTimeout(()=>d.remove(),20000);
  }
}


/* ================= DESKTOP DRAG SLIDE ================= */

const slider = document.getElementById("gallerySlider");

let isDown=false,startX,scrollLeft;

slider.addEventListener('mousedown',e=>{
  isDown=true;
  startX=e.pageX-slider.offsetLeft;
  scrollLeft=slider.scrollLeft;
});

slider.addEventListener('mouseleave',()=>isDown=false);
slider.addEventListener('mouseup',()=>isDown=false);

slider.addEventListener('mousemove',e=>{
  if(!isDown)return;
  e.preventDefault();
  const x=e.pageX-slider.offsetLeft;
  const walk=(x-startX)*1.5;
  slider.scrollLeft=scrollLeft-walk;
});

</script>

</body>
</html>
